{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/MetaCollection",
    "definitions": {
        "MetaCollection": {
            "properties": {
                "collection": {
                    "$ref": "#/definitions/auth.Collection",
                    "additionalProperties": true
                },
                "roles": {
                    "$ref": "#/definitions/auth.common.RolesAuthMeta",
                    "additionalProperties": true
                },
                "attributes": {
                    "$ref": "#/definitions/auth.common.AttributesAuthMeta",
                    "additionalProperties": true
                },
                "identity": {
                    "$ref": "#/definitions/auth.common.IdentityAuthMeta",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Meta Collection"
        },
        "auth.Attribute": {
            "properties": {
                "collection_id": {
                    "type": "string"
                },
                "msp_id": {
                    "type": "string",
                    "description": "The msp of the organization that this attribute applies to"
                },
                "oid": {
                    "type": "string",
                    "description": "The oid of the attribute"
                },
                "value": {
                    "type": "string",
                    "description": "The value of the attribute required to be satisfied by the user to have the role"
                },
                "polices": {
                    "$ref": "#/definitions/auth.Polices",
                    "additionalProperties": true,
                    "description": "The Permission that the user will have if they have the attribute"
                },
                "note": {
                    "type": "string"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Attribute",
            "description": "An attribute is used to define permissions via the value of the attribute in the users certificate for a given msp"
        },
        "auth.Collection": {
            "properties": {
                "collection_id": {
                    "type": "string",
                    "description": "The key for the ledger"
                },
                "name": {
                    "type": "string"
                },
                "auth_type": {
                    "enum": [
                        "AUTH_TYPE_UNSPECIFIED",
                        0,
                        "AUTH_TYPE_NONE",
                        1,
                        "AUTH_TYPE_ROLE",
                        2,
                        "AUTH_TYPE_IDENTITY",
                        3
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Auth Type"
                },
                "item_types": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "default": {
                    "$ref": "#/definitions/auth.Polices",
                    "additionalProperties": true
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "═════════════════════════════════════════════════════════════════════════════════\n Global Items\n ═════════════════════════════════════════════════════════════════════════════════",
            "description": "═════════════════════════════════════════════════════════════════════════════════ Global Items ═════════════════════════════════════════════════════════════════════════════════  Collection ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈ Note that the types of items are stored in the default ACLEntry key := {COLLECTION}{COLLECTION_ID}"
        },
        "auth.PathPolicy": {
            "properties": {
                "path": {
                    "type": "string",
                    "description": "The path is a sub path of a field mask"
                },
                "full_path": {
                    "type": "string"
                },
                "allow_sub_paths": {
                    "type": "boolean"
                },
                "sub_paths": {
                    "additionalProperties": {
                        "$ref": "#/definitions/auth.PathPolicy",
                        "additionalProperties": true
                    },
                    "type": "object",
                    "description": "The key is a valid sub path in the type of state item"
                },
                "actions": {
                    "items": {
                        "enum": [
                            "ACTION_UNSPECIFIED",
                            0,
                            "ACTION_UTILITY",
                            1,
                            "ACTION_VIEW",
                            10,
                            "ACTION_CREATE",
                            11,
                            "ACTION_UPDATE",
                            12,
                            "ACTION_DELETE",
                            13,
                            "ACTION_SUGGEST_VIEW",
                            14,
                            "ACTION_SUGGEST_CREATE",
                            15,
                            "ACTION_SUGGEST_DELETE",
                            16,
                            "ACTION_SUGGEST_APPROVE",
                            17,
                            "ACTION_VIEW_HISTORY",
                            18,
                            "ACTION_VIEW_HIDDEN_TXS",
                            19,
                            "ACTION_HIDE_TX",
                            20,
                            "ACTION_REFERENCE_CREATE",
                            21,
                            "ACTION_REFERENCE_DELETE",
                            22,
                            "ACTION_REFERENCE_VIEW",
                            23
                        ]
                    },
                    "type": "array",
                    "title": "Action"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "═════════════════════════════════════════════\n Access Control\n ═════════════════════════════════════════════",
            "description": "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ═════════════════════════════════════════════ Access Control ═════════════════════════════════════════════  This message is the tree node for operations on the state item"
        },
        "auth.Polices": {
            "properties": {
                "item_policies": {
                    "additionalProperties": {
                        "$ref": "#/definitions/auth.PathPolicy",
                        "additionalProperties": true
                    },
                    "type": "object",
                    "description": "key is the item type"
                },
                "default_policy": {
                    "$ref": "#/definitions/auth.PathPolicy",
                    "additionalProperties": true,
                    "description": "Default policy for all items"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Polices"
        },
        "auth.Role": {
            "properties": {
                "collection_id": {
                    "type": "string"
                },
                "role_id": {
                    "type": "string"
                },
                "polices": {
                    "$ref": "#/definitions/auth.Polices",
                    "additionalProperties": true
                },
                "note": {
                    "type": "string"
                },
                "parent_role_ids": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n ═════════════════════════════════════════════════════════════════════════════════\n Collection Items\n ═════════════════════════════════════════════════════════════════════════════════\n ─────────────────────────────────────────────────────────────────────────────────\n Access Control Items\n ─────────────────────────────────────────────────────────────────────────────────",
            "description": "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ═════════════════════════════════════════════════════════════════════════════════ Collection Items ═════════════════════════════════════════════════════════════════════════════════ ───────────────────────────────────────────────────────────────────────────────── Access Control Items ─────────────────────────────────────────────────────────────────────────────────"
        },
        "auth.UserMembership": {
            "properties": {
                "collection_id": {
                    "type": "string",
                    "description": "The collection that the user is a member of"
                },
                "msp_id": {
                    "type": "string",
                    "description": "The msp of the organization that the user's certificate is from"
                },
                "user_id": {
                    "type": "string",
                    "description": "The id of the user from the certificate"
                },
                "polices": {
                    "$ref": "#/definitions/auth.Polices",
                    "additionalProperties": true,
                    "description": "The Permissions that the user will have"
                },
                "note": {
                    "type": "string"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "User Membership",
            "description": "Membership is used to store permissions for a user in a collection"
        },
        "auth.common.AttributesAuthMeta": {
            "properties": {
                "attributes": {
                    "items": {
                        "$ref": "#/definitions/auth.Attribute"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes Auth Meta"
        },
        "auth.common.IdentityAuthMeta": {
            "properties": {
                "identity_providers": {
                    "items": {
                        "$ref": "#/definitions/auth.UserMembership"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Identity Auth Meta"
        },
        "auth.common.RolesAuthMeta": {
            "properties": {
                "roles": {
                    "items": {
                        "$ref": "#/definitions/auth.Role"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Roles Auth Meta"
        }
    }
}